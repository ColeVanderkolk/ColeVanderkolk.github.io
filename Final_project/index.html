<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style type="text/css" id="wp-custom-css">
        header .search {

            display: none;

        }

        .sidebar {

            display: none;

        }

        .main-side:not(.full_width) {
            width: 100%;
        }

        .row_social_inpost {

            text-align: center;

        }

        article p,
        .post p {

            font-size: large;
            line-height: 30px;
            text-align: justify;
            color: black;

        }

        .page ul:not([class]) li,
        .post ol:not([class]) li {
            text-align: justify;
            font-size: large;
        }

        article strong,
        .page .post strong {
            font-weight: bold;
            color: #9b9b9b;
        }

        h2,
        h3 {

            text-align: left;
            color: #E19F33;
            font-size: x-large;
        }

        h1 {

            text-align: center;
            color: #E19F33;
            font-size: xx-large;
        }

        .dark_body .main-side .rh-post-wrapper .title h1 {
            color: #9c9c9c;
        }

        article strong,
        .post strong {
            font-weight: bold;
            color: white;
        }

        footer#theme_footer.dark_style {
            background: none #222;
            text-align: center;
        }

        .rh-container {
            /*background-color: #222222;*/
        }

        .related_title {
            display: none;
        }

        article strong,
        .post strong {
            font-weight: bold;
            color: black;
        }

        .rh-flex-justify-center {
            justify-content: left;
        }

        body .font110,
        .font110 h4 {
            font-size: 110%;
            text-align: center;
            color: #ca212a
        }

        .polylang_langswitcher {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .polylang_langswitcher li {
            float: left;
        }

        .post,
        .post p {

            text-align: justify;
        }


        @media only screen and (max-width: 768px) {

            h2,
            h3 {

                text-align: center;
                color: #E19F33;
                font-size: x-large;


            }
        }
    </style>
</head>

<body class="page-template-default page page-id-1120 wp-embed-responsive noinnerpadding">



    <div class="rh-outer-wrap">
        <div id="top_ankor"></div>

        


        <div class="rh-container ">
            <div class="rh-content-wrap clearfix ">

                <div class="main-side page clearfix" id="content">
                    <div class="rh-post-wrapper">
                        <article class="post mb0" id="page-1120">
                            <div class="title">
                                <h1 class="entry-title">Compass</h1>
                            </div>


                            <div class="quads-location quads-ad1670 " id="quads-ad1670"
                                style="float:none;text-align:center;padding:0px 0 0px 0;" data-lazydelay="3000">
                                <script async
                                    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2603775087923329"
                                    crossorigin="anonymous"></script>

                                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2603775087923329"
                                    data-ad-slot="1015597899" data-ad-format="auto"
                                    data-full-width-responsive="true"></ins>
                                <script>
                                    (adsbygoogle = window.adsbygoogle || []).push({});
                                </script>
                            </div>
                            </br>
                            <div class="compass">
                                <div class="arrow"></div>
                                <div class="compass-circle"></div>
                                <div class="my-point"></div>
                            </div>
                            <br>
                            <center>
                                <button class="start-btn"> Activate Compass</button>
                            </center>

                            <script>
                                const compassCircle = document.querySelector(".compass-circle");
                                const myPoint = document.querySelector(".my-point");
                                const startBtn = document.querySelector(".start-btn");
                                const isIOS =
                                    navigator.userAgent.match(/(iPod|iPhone|iPad)/) &&
                                    navigator.userAgent.match(/AppleWebKit/);

                                function init() {
                                    startBtn.addEventListener("click", startCompass);
                                    navigator.geolocation.getCurrentPosition(locationHandler);

                                    if (!isIOS) {
                                        window.addEventListener("deviceorientationabsolute", handler, true);
                                    }
                                }

                                function startCompass() {
                                    if (isIOS) {
                                        DeviceOrientationEvent.requestPermission()
                                            .then((response) => {
                                                if (response === "granted") {
                                                    window.addEventListener("deviceorientation", handler, true);
                                                } else {
                                                    alert("has to be allowed!");
                                                }
                                            })
                                            .catch(() => alert("not supported"));
                                    }
                                }

                                function handler(e) {
                                    compass = e.webkitCompassHeading || Math.abs(e.alpha - 360);
                                    compassCircle.style.transform = `translate(-50%, -50%) rotate(${-compass}deg)`;

                                    // Â±15 degree
                                    if (
                                        (pointDegree < Math.abs(compass) &&
                                            pointDegree + 15 > Math.abs(compass)) ||
                                        pointDegree > Math.abs(compass + 15) ||
                                        pointDegree < Math.abs(compass)
                                    ) {
                                        myPoint.style.opacity = 0;
                                    } else if (pointDegree) {
                                        myPoint.style.opacity = 1;
                                    }
                                }

                                let pointDegree;

                                function locationHandler(position) {
                                    const { latitude, longitude } = position.coords;
                                    pointDegree = calcDegreeToPoint(latitude, longitude);

                                    if (pointDegree < 0) {
                                        pointDegree = pointDegree + 360;
                                    }
                                }

                                function calcDegreeToPoint(latitude, longitude) {
                                    // Qibla geolocation
                                    const point = {
                                        lat: 21.422487,
                                        lng: 39.826206
                                    };

                                    const phiK = (point.lat * Math.PI) / 180.0;
                                    const lambdaK = (point.lng * Math.PI) / 180.0;
                                    const phi = (latitude * Math.PI) / 180.0;
                                    const lambda = (longitude * Math.PI) / 180.0;
                                    const psi =
                                        (180.0 / Math.PI) *
                                        Math.atan2(
                                            Math.sin(lambdaK - lambda),
                                            Math.cos(phi) * Math.tan(phiK) -
                                            Math.sin(phi) * Math.cos(lambdaK - lambda)
                                        );
                                    return Math.round(psi);
                                }

                                init();

                            </script>



                            <br>



                            <p>The system will request permissions to access the geolocation services of your mobile
                                device to automatically activate the compass. You just need to accept or confirm those
                                permissions. If the compass doesn&#8217;t work, you can press the &#8220;Activate&#8221;
                                button to use it manually. Remember that the compass is only compatible with mobile
                                devices or smartphones.</p>



                        </article>
                    </div>
                </div>



                
            </div>
        </div>







    </div>
    <span class="rehub_scroll" id="topcontrol" data-scrollto="#top_ankor"><i class="rhicon rhi-chevron-up"></i></span>
    <script>var zb_same_domain = 1;/*console.log(zb_same_domain);*/</script>



   

    <link rel='stylesheet' id='WH_BRUJULA_URL-style-css'
        href='https://www.onlinecompass.org/modules/4135764dd2//css/brujula-style.css' type='text/css' media='all' />
    <script type="text/javascript" id="custom-script-js-extra">
        /* <![CDATA[ */
        var wpdata = { "object_id": "1120", "site_url": "https:\/\/www.onlinecompass.org" };
        /* ]]> */
    </script>
    <script type="text/javascript" src="https://www.onlinecompass.org/modules/08f05641fe/assets/js/inspector.js"
        id="custom-script-js"></script>
    <script type="text/javascript" src="https://www.onlinecompass.org/views/67b475a9c6/js/inview.js"
        id="rhinview-js"></script>
    <script type="text/javascript" src="https://www.onlinecompass.org/views/67b475a9c6/js/pgwmodal.js"
        id="rhpgwmodal-js"></script>
    <script type="text/javascript" src="https://www.onlinecompass.org/views/67b475a9c6/js/unveil.js"
        id="rhunveil-js"></script>
    <script type="text/javascript" src="https://www.onlinecompass.org/views/67b475a9c6/js/hoverintent.js"
        id="rhhoverintent-js"></script>
    <script type="text/javascript" src="https://www.onlinecompass.org/views/67b475a9c6/js/countdown.js"
        id="rhcountdown-js"></script>
    <script type="text/javascript" id="rehub-js-extra">
        /* <![CDATA[ */
        var rhscriptvars = { "back": "back", "ajax_url": "\/wp-admin\/admin-ajax.php", "fin": "That's all", "noresults": "No results found", "your_rating": "Your Rating:", "addedcart": "Added to Cart", "nonce": "3d146e177c", "hotnonce": "6cd5627e65", "wishnonce": "883d7fe870", "searchnonce": "6d428de24a", "filternonce": "4add39efbe", "rating_tabs_id": "88ab2ba932", "max_temp": "10", "min_temp": "-10", "helpnotnonce": "4faccb2132" };
        /* ]]> */
    </script>
    <script type="text/javascript" src="https://www.onlinecompass.org/views/67b475a9c6/js/custom.js"
        id="rehub-js"></script>
    <script type="text/javascript" src="https://www.onlinecompass.org/modules/1626d764f5/assets/js/ads.js"
        id="quads-ads-js"></script>
    <script type="text/javascript" src="https://www.onlinecompass.org/modules/4135764dd2//js/brujula-js.js"
        id="WH_BRUJULA_URL_js_j-js"></script>
    <script type="text/javascript">
        (function () {
            var expirationDate = new Date();
            expirationDate.setTime(expirationDate.getTime() + 31536000 * 1000);
            document.cookie = "pll_language=en; expires=" + expirationDate.toUTCString() + "; path=/; secure; SameSite=Lax";
        }());

    </script>
</body>

</html>